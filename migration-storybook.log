🔎 checking possible migrations..
The CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.
WARN An issue occurred while trying to find dependencies metadata using npm.

🔎 found a 'missingStorybookDependencies' migration:
╭ Automigration detected ──────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                          │
│   Found the following Storybook packages used in your project, but they are missing from your project dependencies:      │
│   - @storybook/manager-api: (1 file)                                                                                     │
│   - @storybook/theming: (2 files)                                                                                        │
│   - @storybook/types: (1 file)                                                                                           │
│                                                                                                                          │
│   Referencing missing packages can cause your project to crash. We can automatically add them to your dependencies.      │
│                                                                                                                          │
│   More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#failed-to-resolve-import-storybookx-error   │
│                                                                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'missingStorybookDependencies' migration on your project? › (Y/n)✔ Do you want to run the 'missingStorybookDependencies' migration on your project? … yes
✅ Installing the following packages as devDependencies: @storybook/theming,@storybook/manager-api,@storybook/types

An error occurred while installing dependencies:
NPM error ERESOLVE - Dependency resolution error.

Please check the logfile generated at ./storybook.log for troubleshooting and try again.
❌ error when running missingStorybookDependencies migration
HandledError: Error: NPM error ERESOLVE - Dependency resolution error.

Please check the logfile generated at ./storybook.log for troubleshooting and try again.
    at Ar.addDependencies (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/core/dist/common/index.cjs:19044:72)
    at async Object.run (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:280:413)
    ... 3 lines matching cause stack trace ...
    at async Command.<anonymous> (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:601:2888) {
  handled: true,
  cause: Error: NPM error ERESOLVE - Dependency resolution error.
  
  Please check the logfile generated at ./storybook.log for troubleshooting and try again.
      at Ar.runAddDeps (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/core/dist/common/index.cjs:19365:24)
      at async Ar.addDependencies (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/core/dist/common/index.cjs:19041:9)
      at async Object.run (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:280:413)
      at async runFixes (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:533:1801)
      at async automigrate (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:531:1625)
      at async doAutomigrate (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:531:636)
      at async Command.<anonymous> (/Users/julian/.npm/_npx/7122ab1f221a777a/node_modules/@storybook/cli/dist/bin/index.cjs:601:2888)
}


🔎 found a 'remove-argtypes-regex' migration:
╭ Manual migration detected ───────────────────────────────────────────────────────────────────╮
│                                                                                              │
│   Attention: We've detected that you're using argTypesRegex:                                 │
│                                                                                              │
│   .storybook/preview.tsx                                                                     │
│     11 | const preview: Preview = {                                                          │
│     12 |   parameters: {                                                                     │
│   > 13 |     actions: { argTypesRegex: '^on[A-Z].*' },                                       │
│        |                ^^^^^^^^^^^^^                                                        │
│     14 |     controls: {                                                                     │
│     15 |       matchers: {                                                                   │
│     16 |         color: /(background|color)$/i,                                              │
│                                                                                              │
│   Storybook's play functions let you render your stories interactively.                      │
│                                                                                              │
│   In the past, play functions mocked action args implicitly by analyzing the argTypesRegex   │
│   in your preview.js|ts file.                                                                │
│                                                                                              │
│   However, Storybook 8 changes this behavior, and we now recommend using the                 │
│   (fn) function to mock your component's methods instead.                                    │
│                                                                                              │
│   Use the following command to check for implied mocked actions in your play functions:      │
│   npx storybook migrate find-implicit-spies --glob="**/*.stories.@(js|jsx|ts|tsx)"           │
│                                                                                              │
│   Then, refer to our docs to migrate your play functions to Storybook 8:                     │
│   https://storybook.js.org/docs/essentials/actions#via-storybooktest-fn-spy-function         │
│                                                                                              │
╰──────────────────────────────────────────────────────────────────────────────────────────────╯

? Select continue once you have made the required changes, or quit to exit the migration process › quit / continue✔ Select continue once you have made the required changes, or quit to exit the migration process … quit / continue

🔎 found a 'github-flavored-markdown-mdx' migration:
╭ Automigration detected ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                   │
│   In MDX1 you had the option of using GitHub flavored markdown.                                                                                   │
│                                                                                                                                                   │
│   Storybook >= 8.0 uses MDX3 for compiling MDX, and thus no longer supports GFM out of the box.                                                   │
│   Because of this you need to explicitly add the GFM plugin in the addon-docs options:                                                            │
│   https://storybook.js.org/docs/writing-docs/mdx#markdown-tables-arent-rendering-correctly                                                        │
│                                                                                                                                                   │
│   We recommend that you follow the guide in the link above; however, we can add a temporary Storybook addon to help make this migration easier.   │
│   We'll install the addon and add it to your storybook config.                                                                                    │
│                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'github-flavored-markdown-mdx' migration on your project? › (Y/n)✔ Do you want to run the 'github-flavored-markdown-mdx' migration on your project? … yes
✅ Adding "@storybook/addon-mdx-gfm" addon
✅ ran github-flavored-markdown-mdx migration

🔎 found a 'autodocsTrue' migration:
╭ Automigration detected ────────────────────────────────────────────────────────────────────────────╮
│                                                                                                    │
│   We've changed the configuration of autodocs (previous docsPage), so now the value:               │
│     - docs.autodocs: true -- means automatically create docs for every CSF file                    │
│     - docs.autodocs: 'tag' -- means only create autodocs for CSF files with the 'autodocs' tag     │
│     - docs.autodocs: false -- means never create autodocs                                          │
│                                                                                                    │
│   Based on your prior configuration,  we can set the `docs.autodocs` to keep your old behaviour:   │
│                                                                                                    │
│   docs: { autodocs: true }                                                                         │
│                                                                                                    │
│   More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#autodocs-changes      │
│                                                                                                    │
╰────────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'autodocsTrue' migration on your project? › (Y/n)✔ Do you want to run the 'autodocsTrue' migration on your project? … yes
✅ Setting 'docs.autodocs' to true in main.js
✅ ran autodocsTrue migration

🔎 found a 'remove-react-dependency' migration:
╭ Manual migration detected ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                                                  │
│   We detected that your project has a dependency for "react" that it might not need.                                                                                             │
│   Nothing breaks by having it, you can safely ignore this message, if you wish.                                                                                                  │
│                                                                                                                                                                                  │
│   Storybook asked you to add "react" as a direct dependency in the past when upgrading from Storybook 6 to 7.                                                                    │
│   However, since version 8.0, Storybook no longer requires you to provide "react" as a dependency.                                                                               │
│   Some community addons might still wrongfully list "react" and "react-dom" as required peer dependencies, but since Storybook 7.6 it should not be needed in the majority of    │
│   cases.                                                                                                                                                                         │
│                                                                                                                                                                                  │
│   If you know you are not using React outside of Storybook, it should be safe to remove the "react" and "react-dom" dependencies from your project's package.json.               │
│   Storybook cannot do this automatically as removing it might break your project, so it should be done manually with care.                                                       │
│                                                                                                                                                                                  │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

? Select continue once you have made the required changes, or quit to exit the migration process › quit / continue✔ Select continue once you have made the required changes, or quit to exit the migration process … quit / continue

🔎 found a 'visual-tests-addon' migration:
╭ Automigration detected ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                                                  │
│   New to Storybook 8: Storybook's Visual Tests addon helps you catch unintentional changes/bugs in your stories. The addon is powered by Chromatic, a cloud-based testing tool   │
│   developed by Storybook's core team.                                                                                                                                            │
│                                                                                                                                                                                  │
│   Learn more: https://storybook.js.org/docs/writing-tests/visual-testing                                                                                                         │
│                                                                                                                                                                                  │
│   Install Visual Tests addon in your project?                                                                                                                                    │
│                                                                                                                                                                                  │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'visual-tests-addon' migration on your project? › (Y/n)✔ Do you want to run the 'visual-tests-addon' migration on your project? … yes
✅ Adding "@chromatic-com/storybook" addon
✅ ran visual-tests-addon migration

🔎 found a 'autodocs-tags' migration:
╭ Automigration detected ───────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                   │
│   The docs.autodocs setting in .storybook/main.ts is deprecated.                                                  │
│                                                                                                                   │
│   Learn more: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mainjs-docsautodocs-is-deprecated   │
│                                                                                                                   │
│   Remove docs.autodocs and update .storybook/preview.tsx?                                                         │
│                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
? Do you want to run the 'autodocs-tags' migration on your project? › (Y/n)✔ Do you want to run the 'autodocs-tags' migration on your project? … yes
✅ Adding "autodocs" tag to .storybook/preview.tsx
✅ Removing "docs.autodocs" from .storybook/main.ts
✅ ran autodocs-tags migration
WARN An issue occurred while trying to find dependencies metadata using npm.

╭ Migration check ran with failures ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                               │
│   Successful migrations:                                                                                                                                      │
│                                                                                                                                                               │
│   github-flavored-markdown-mdx, autodocsTrue, visual-tests-addon, autodocs-tags                                                                               │
│                                                                                                                                                               │
│   Failed migrations:                                                                                                                                          │
│                                                                                                                                                               │
│   missingStorybookDependencies:                                                                                                                               │
│   Error: NPM error ERESOLVE - Dependency resolution error.                                                                                                    │
│                                                                                                                                                               │
│   Please check the logfile generated at ./storybook.log for troubleshooting and try again.                                                                    │
│                                                                                                                                                               │
│   You can find the full logs in /Users/julian/Documents/git/tint/migration-storybook.log                                                                      │
│                                                                                                                                                               │
│   Manual migrations:                                                                                                                                          │
│                                                                                                                                                               │
│   remove-argtypes-regex, remove-react-dependency                                                                                                              │
│                                                                                                                                                               │
│   ─────────────────────────────────────────────────                                                                                                           │
│                                                                                                                                                               │
│   If you'd like to run the migrations again, you can do so by running 'npx storybook automigrate'                                                             │
│                                                                                                                                                               │
│   The automigrations try to migrate common patterns in your project, but might not contain everything needed to migrate to the latest version of Storybook.   │
│                                                                                                                                                               │
│   Please check the changelog and migration guide for manual migrations and more information: https://storybook.js.org/docs/migration-guide                    │
│   And reach out on Discord if you need help: https://discord.gg/storybook                                                                                     │
│                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

